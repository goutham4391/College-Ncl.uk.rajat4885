function initMobileTabs(){var tabContainer=$(".navigation-tab");$(window).resize(function(){tabContainer.scrollLeft(0)}),$(".navigation-tab a").click(function(){var tabClicked=$(this),tabClickedStartPos=tabClicked.parent().attr("data-start-offset"),tabClickedEndPos=tabClicked.parent().attr("data-end-offset"),windowWidth=$(window).width(),currentScrollPos=tabContainer.scrollLeft();tabClickedEndPos>windowWidth+currentScrollPos&&tabContainer.scrollLeft(tabClickedEndPos-windowWidth),currentScrollPos>tabClickedStartPos&&tabContainer.scrollLeft(tabClickedStartPos)}),$(".select2-container").addClass("hidden")}function findMobileTabPosition(){$(".navigation-tab li").each(function(){var tabClickedStartPos=$(this).position().left+20,tabClickedEndPos=tabClickedStartPos+$(this).outerWidth();$(this).attr("data-start-offset",tabClickedStartPos),$(this).attr("data-end-offset",tabClickedEndPos)})}function initQuoteCarousel(){$(".slickSlider").slick({prevArrow:'<button type="button" class="prev carouselNavButton" aria-label="Previous" data-widget-type="scroll">Previous</button>',nextArrow:'<button type="button" class="next carouselNavButton" aria-label="Next" data-widget-type="scroll">Next</button>'})}function initYouTube(){var tag=document.createElement("script");tag.src="//www.youtube.com/iframe_api?apiKey="+statusGlobals.youtubeAPIKey;var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$(".js-youtubeVid").each(function(index){var id="video";$(this).attr("id",id+"_"+index)})}function onYouTubeIframeAPIReady(){initYouTubeVideos(".js-youtubeVid"),$(".youtubeVid").fitVids()}function initYouTubeVideos(selector){$(selector).each(function(){var div=$(this),id=div.data("youtubeid"),width=div.attr("width"),height=div.attr("height"),divId=div.attr("id");if(-1==$.inArray(divId,youTubePlayerIDs))try{var player=new YT.Player(divId,{videoId:id,width:width,height:height,events:{onReady:onPlayerReady}});player.__divId=divId,youTubePlayers.push(player),youTubePlayerIDs.push(divId)}catch(ex){div.html("<p class='error'>Unable to load YouTube video with ID "+id+"</p>")}})}function playGalleryVideo(){$(".videoGallery").on("click",'.slick-active [data-buttonfunction="playYoutube"]',function(e){e.preventDefault();var videoDiv=$(this).parent();if(videoDiv.find("iframe").attr("id").length){var player=getYouTubePlayerByID(videoDiv.find("iframe").attr("id"));null!=player&&(player.playVideo(),$(this).addClass("videoPlayed"))}})}function onPlayerReady(player){$(".slickSlider").removeClass("loading"),$(".carouselNavButton").click(function(){$(".videoOverlay").removeClass("videoPlayed"),$(youTubePlayers).each(function(){1==player.target.getPlayerState()&&player.target.pauseVideo()})})}function getYouTubePlayerByID(divId){var player=null;return $(youTubePlayers).each(function(){return this.__divId==divId?void(player=this):void 0}),player}function initAtAGlance(containerId){getCourseMetaData(containerId),showStartDate(containerId),removeAtAGlanceSections(containerId),showAtAGlance(containerId)}function getCourseMetaData(containerId){$('meta[name^="ncl_course"]').each(function(){applyCourseMetaData(containerId,$(this).attr("name"),$(this).attr("content"))})}function applyCourseMetaData(containerId,name,content){var target=$(containerId).find("[data-name="+name+"]");target.length&&("PGT"===content?content="Taught":"PGR"===content&&(content="Research"),target.find("span").text(content),target.removeClass("hidden"))}function showStartDate(containerId){var target=$(containerId).find(".startDate");target.text().length&&target.parent(".detail").removeClass("hidden")}function showAtAGlance(containerId){$(containerId).children("div:not(.hidden)").length&&$(containerId).removeClass("hidden")}function removeAtAGlanceSections(containerId){hideAtAGlanceDetails(containerId),hideAtAGlanceListDetails(containerId),hideAtAGlanceAccreditation(containerId)}function hideAtAGlanceDetails(containerId){var target=$(containerId+" .keyDetails");0==target.children(":not(.hidden)").length&&target.addClass("hidden")}function hideAtAGlanceListDetails(containerId){var target=$(containerId+" .moreInfo");0==target.find("li").length&&target.addClass("hidden")}function hideAtAGlanceAccreditation(containerId){var target=$(containerId+" .accreditation");0==target.children().length&&target.addClass("hidden")}$(document).ready(function(){$(".navigation-tab").wrap('<div class="scrollWrapper"></div>'),initMobileTabs(),countrySearch.init(),initQuoteCarousel(),initAtAGlance("#js-glance")}),$(window).load(function(){findMobileTabPosition()});var countrySearch={countryListEle:$(".countrySearch ol"),countryList:[],currentCountryList:[],information:$(".errorMessage"),init:function(){countrySearch.populateCountryList(),countrySearch.countryListEle.empty(),countrySearch.search(),countrySearch.preventSubmit()},populateCountryList:function(){$("li a",countrySearch.countryListEle).each(function(){var countryName=$(this).text(),countryURL=$(this).attr("href");countrySearch.countryList.push({name:countryName,url:countryURL})})},search:function(){$(".countrySearch input").on("input",function(){var searchInput=$(this),searchValue=searchInput.val();if(countrySearch.countryListEle.empty(),searchInput.val().length){for(countrySearch.information.addClass("accessiblyHidden hidden"),countrySearch.currentCountryList=[],i=0;i<countrySearch.countryList.length;i++)countrySearch.countryList[i].name.toLowerCase().indexOf(searchValue.toLowerCase())>-1&&countrySearch.currentCountryList.push(countrySearch.countryList[i]);if(countrySearch.currentCountryList.length)for(i=0;i<countrySearch.currentCountryList.length;i++)countrySearch.countryListEle.append('<li><a href="'+countrySearch.currentCountryList[i].url+'">'+countrySearch.currentCountryList[i].name+"</a></li>");else countrySearch.information.removeClass("accessiblyHidden hidden")}})},preventSubmit:function(){$(".countrySearch form").on("submit",function(e){e.preventDefault(),$(e.target).parent().find("ol > li").length&&$(e.target).parent().find("ol > li:first-of-type a").focus()})}},statusGlobals={};statusGlobals.youtubeAPIKey="AIzaSyAAH_WLyeIGyalKrINKwCCXzIWhQDbno_g",$(document).ready(function(){initYouTube(),playGalleryVideo()});var youTubePlayerIDs=[],youTubePlayers=[];