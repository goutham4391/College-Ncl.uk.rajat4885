"use strict";var breakpoints={mobile__portrait:320,mobile__landscape:480,tablet__portrait:768,desktop__minimum:960,tablet__landscape:1024,content:1080,content__wide:1200,desktop:1366,desktop__medium:1600};function debounce(e,t,n){var a;return function(){var i=this,o=arguments,s=n&&!a;clearTimeout(a),a=setTimeout(function(){a=null,n||e.apply(i,o)},t),s&&e.apply(i,o)}}var sacsGlobals={youtubeAPIKey:"AIzaSyAAH_WLyeIGyalKrINKwCCXzIWhQDbno_g",youTubePlayerIDs:[],youTubePlayers:[],breakpoints:{small:480,medium:768,large:1025},currentPage:1},ugGlobals={youtubeAPIKey:"AIzaSyAAH_WLyeIGyalKrINKwCCXzIWhQDbno_g",courseData:[],courseAccordionsPopulated:!1,searchResultsPopulated:!1,searchOptions:{id:"id",shouldSort:!0,findAllMatches:!0,includeScore:!0,threshold:.1,location:0,distance:5e4,maxPatternLength:32,minMatchCharLength:3,keys:[{name:"id",weight:1},{name:"title",weight:.9},{name:"keywords",weight:.9},{name:"qualificiation",weight:.8},{name:"classification",weight:.6},{name:"secondaryclassification",weight:.5},{name:"description",weight:.4},{name:"courseintro",weight:.4}]}};$(document).ready(function(){if(navigation().init(),articleGrid().init(),eventsFeed().init(),accordion(),addNavClass(),initSlickSlider(),initVideos(),initDropdowns(),initInfogram(),scrollToLinks(),0==$(".course-content-block").length){var e=$(".tabs");initTabs().init(e)}var t=$("body");t.mousedown(function(){$(this).removeClass("tabHighlight"),$(".videoOverlay").attr("tabIndex",0),$(".videoGallery .slick-arrow").show()}),t.keydown(function(e){9===e.which&&($(this).addClass("tabHighlight"),$(".videoOverlay").attr("tabIndex",-1),$(".videoGallery .slick-arrow").hide())}),initRelatedPeople(),dualPanelBreakoutImage(),responsiveTables.init(),dataWidgets().init()});var navigation=function(){var e={container:$("#js-navigation"),viewportMode:windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile",menuOpened:!1,searchOpened:!1},t=function(e,t){return e.parents(t)},n=function(e,t){return e.closest(t)},a=function(e,t){return e.find(t)},i=function(e,t){return e.siblings(t)},o=function(){requestResizeAnimation(function(){e.viewportMode=windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile"})},s={setDataAttributes:function(t){var n=t.find(".primary");s.getHeightOfElements(n),s.getChildrenOfElements(n),s.getDropdownChildrenOfElements(n),s.getDepthOfElements(n),s.cloneSecondary(e.container),s.attachMenuButtonHandlers(n),s.attachTouchHandlers(n),requestResizeAnimation(function(){var t=$(".primary");s.getHeightOfElements(t),"desktop"!==e.viewportMode||!0!==e.menuOpened&&!0!==e.searchOpened||s.resetAllNavigation(t)}),window.addEventListener("orientationchange",function(){var e=$(".primary");s.getHeightOfElements(e),90===Math.abs(window.orientation)&&s.resetAllNavigation(e)},!1)},getHeightOfElements:function(e){var t=e.find(".dropdown ul");$.each(t,function(){var e=$(this),t=e.actual("outerHeight");return e.attr("data-height",t)})},getChildrenOfElements:function(e){var t=e.find("li");$.each(t,function(){var e=$(this);if(0!==a(e,"> ul").length){var t=a(e,"> a");return e.addClass("has-child"),t.append('<span class="child-toggle"><span class="arrow"></span></span>'),s.attachDropdownMenuEventHandlers(e),s.attachHoverEventHandlers(t)}})},getDropdownChildrenOfElements:function(e){var t=e.find("li");return $.each(t,function(){var e=$(this);0!==a(e,"> .dropdown").length&&(e.addClass("has-dropdown"),s.attachTopLevelEventHandlers(e))}),s.attachBackButtonEventHandler(e)},getDepthOfElements:function(e){var n=a(e,".dropdown ul");return $.each(n,function(){var e=$(this),n=t(e,"ul:not(.menu-toplevel)");e.attr("data-depth",n.length)}),s.getDefaultHeightOfDropdown(e)},getDefaultHeightOfDropdown:function(e){var t=a(e,".dropdown ul");$.each(t,function(){var e=$(this);if("0"===e.attr("data-depth")){var t=n(e,".dropdown"),a=e.attr("data-height");return t.attr("data-defaultheight",a),t.attr("data-currentheight",a)}})},setDropdownReset:function(e){var t=a(e,".dropdown"),n=a(e,'ul[data-depth="0"]');$.each(t,function(){var e=$(this);e.on({mouseleave:function(){var t=$(this).attr("data-defaultheight");e.removeAttr("style").attr("data-currentheight",t),n.removeAttr("style")}})})},cloneSecondary:function(e){var t=a(e,".secondary ul").clone();a(e,".primary .menu-wrapper").append(t)},adjustMenuSize:function(e){var t=n(e,".dropdown"),a=n(e,'ul[data-depth="0"]'),o=parseInt(t.attr("data-currentheight")),s=i(e,"ul"),r=parseInt(s.attr("data-height"));r>=o&&(t.css("height",r).attr("data-currentheight",r),a.css("height",r))},attachHoverEventHandlers:function(e){return e.on({"mouseover focus":function(){var e=$(this);s.adjustMenuSize(e)}})},attachTopLevelEventHandlers:function(e){var t=e,o=a(t,"> a"),s=n(t,".menu"),r=n(t,".menu-wrapper"),l=i(r,".menu-back"),d=a(t,".highlight"),c=a(t,".dropdown");d.on({click:function(e){e.stopPropagation(),e.preventDefault();var n=o.text(),a=t.prevAll().length+1;l.find(".menu-back-arrow").css({backgroundColor:"var(--column"+a+"-accent)"}),s.addClass("active"),r.css({transform:"translateX(-100vw)"}).attr({"data-translatex":-100,"data-menulevel":1}),c.addClass("selected"),l.addClass("active").find(".menu-back-label").text(n)}})},attachDropdownMenuEventHandlers:function(t){var o=t,s=n(o,".menu"),r=n(o,".menu-wrapper"),l=i(r,".menu-back"),d=a(o,".child-toggle"),c=a(o,"> a");d.on({click:function(t){if("mobile"===e.viewportMode){t.stopPropagation(),t.preventDefault();var n=c.text(),a=parseInt(r.attr("data-menulevel")),i=parseInt(r.attr("data-translatex"))-100;o.addClass("selected"),s.scrollTop(0),l.find(".menu-back-label").text(n),r.css({transform:"translateX("+i+"vw)"}).attr({"data-translatex":i,"data-menulevel":a+1})}}})},attachBackButtonEventHandler:function(e){var t=a(e,".menu-wrapper");a(e,".menu-back").on({click:function(n){n.stopPropagation();var o,s=$(this),r=a(e,".menu"),l=t.attr("data-menulevel"),d=parseInt(t.attr("data-translatex"))+100,c=a(t,".selected:last"),u=c.parent().closest(".selected");if("1"===l){var h=t.find(".dropdown.selected");s.removeClass("active"),r.removeClass("active"),h.removeClass("selected")}u.hasClass("has-child")?(o=a(u,"> a").text(),s.find(".menu-back-label").text(o)):u.hasClass("dropdown")&&(o=i(u,"a").text(),s.find(".menu-back-label").text(o)),c.removeClass("selected"),r.scrollTop(0),t.css({transform:"translateX("+d+"vw)"}).attr({"data-translatex":d,"data-menulevel":l-1})}})},attachMenuButtonHandlers:function(t){var n=$("body"),i=a(t,".menu"),o=a(t,".search-inline"),s=a(t,".menu-toggle"),r=a(t,".menu-close"),l=a(t,".search-toggle"),d=a(t,".search-close");s.on({click:function(t){t.preventDefault();var a=$(this);e.menuOpened=!0,n.addClass("menu-opened"),i.addClass("open"),o.hasClass("active")&&(e.searchOpened=!1,o.removeClass("active"),l.removeClass("hidden"),d.addClass("hidden")),a.addClass("hidden"),r.removeClass("hidden")}}),r.on({click:function(t){t.preventDefault();var a=$(this);e.menuOpened=!1,n.removeClass("menu-opened"),i.removeClass("open index-adjust"),a.addClass("hidden"),s.removeClass("hidden")}}),l.on({click:function(t){t.preventDefault();var a=$(this);e.searchOpened=!0,n.addClass("search-opened"),o.addClass("active"),i.hasClass("open")&&(e.menuOpened=!1,i.removeClass("open"),s.removeClass("hidden"),r.addClass("hidden")),a.addClass("hidden"),d.removeClass("hidden")}}),d.on({click:function(t){t.preventDefault();var a=$(this);e.searchOpened=!1,n.removeClass("search-opened"),o.removeClass("active index-adjust"),a.addClass("hidden"),l.removeClass("hidden")}})},attachTouchHandlers:function(t){var n=a(t,"a"),i=!1;"desktop"===e.viewportMode&&(n.on({touchstart:function(e){var t=$(this);if(i){clearTimeout(i),i=null;var n=t.attr("href");window.location=n}else i=setTimeout(function(){i=null;var e=t.closest("li");(e.hasClass("has-dropdown")||e.hasClass("has-child"))&&($(".has-dropdown, .has-child").removeClass("touch-selected"),t.parents("li").addClass("touch-selected"),s.adjustMenuSize(t))},250);e.preventDefault()}}),$(document).on({"click touchstart":function(e){if(!$(e.target).closest(".menu").length)return $(".has-dropdown, .has-child").removeClass("touch-selected")}}))},resetAllNavigation:function(t){var n=a(t,".menu"),i=a(t,".menu-back"),o=a(t,".menu-wrapper"),s=a(t,".search-inline"),r=a(t,".selected");n.removeClass("open index-adjust active"),i.removeClass("active"),s.removeClass("active index-adjust"),o.attr({"data-translatex":0,"data-menulevel":0}).removeAttr("style"),0!==r.length&&$.each(r,function(){$(this).removeClass("selected")}),e.menuOpened=!1,e.searchOpened=!1}};return{init:function(t){0!==e.container.length&&(o(),s.setDataAttributes(e.container),s.setDropdownReset(e.container))}}},articleGrid=function(){var e,t,n,a,i,o,s=$("#js-articleGrid"),r=windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile",l=$("#js-articleGrid .featured"),d={filteredAll:[],featured:[]},c={checkViewportMode:function(){requestResizeAnimation(function(){r=windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile"})},setVariables:function(){e=s.find(".filters"),t=s.find(".filter-by"),n=s.find(".articles"),a=s.find(".list"),i=a.find(".item"),o=s.find(".pagination")},createItemList:function(){var t=e.find("li");$.each(t,function(){var e=$(this).find("label").text().toLowerCase();void 0===d[e]&&(d[e]=[])}),c.mapItemList(i)},mapItemList:function(e){e.length>0&&$.each(e,function(e,t){var n=$(t).find(".labelText").text().toLowerCase(),a=$(t).hasClass("item-featured");d.all.unshift(t),void 0!==d[n]&&(d.filteredAll.unshift(t),d[n].unshift(t)),!0===a&&d.featured.unshift(t)})},clearInlineStyles:function(){requestResizeAnimation(function(){"desktop"===r&&e.hasClass("open")&&e.removeClass("open")})},toggleFilterVisibility:function(){t.on({click:function(){"mobile"===r&&e.toggleClass("open")}}),$(document).click(function(e){"mobile"!==r||$(e.target).closest(".filters").length||$(".filters").removeClass("open")})},checkSelectedFilter:function(){e.on({click:function(){var e=$(this),t=e.find("label").text().toLowerCase();e.find('input[type="radio"]').is(":checked")||("all"===t?c.resetContent(d.filteredAll):c.resetContent(d[t]))}},"li"),e.on({focus:function(){var e=$(this).siblings("label").text().toLowerCase();"all"===e?c.resetContent(d.filteredAll):c.resetContent(d[e])}},'input[type="radio"]')},changeSelectedFilter:function(t){var n=e.find("li");$.each(n,function(){var e=$(this),n=e.find("label").text().toLowerCase(),a=e.find('input[type="radio"]');n===t&&a.prop("checked",!0)})},checkSelectedLabel:function(){n.on({click:function(e){e.preventDefault();var t=$(this).text().toLowerCase();c.changeSelectedFilter(t),c.resetContent(d[t])}},".labelLink")},resetContent:function(e){a.empty(),$.each(o,function(){$(this).empty()}),c.addContent(e)},addContent:function(e){0!==e.length?($.each(e,function(){a.append($(this))}),c.buildPagination(e)):a.append($('<div class="page"><div class="item noContent">There is no content available for this category to display. Please select another category from the filters provided, or <a href="#" class="js-viewAll">click here to view all available articles.</a></div></div>'))},buildPagination:function(e){if(0!==e.length&&e.length>9){var t=0,n=[],i=[];$.each(e,function(a,o){i.push(o),t<8?t++:(t=0,n.push(i),i=[]),a===e.length-1&&n.push(i)}),$.each(n,function(e){var t=$(this),n=e+1;1===n?t.wrapAll($('<div class="page" data-pagenumber="'+n+'" data-selected="true" />')):t.wrapAll($('<div class="page" data-pagenumber="'+n+'" data-selected="false" />'))}),$.each(o,function(){var e=$(this),t=n.length;e.prepend('<button class="paginationButton paginationButtonPrev disabled" data-type="prev">&lt;</button>');for(var a=1;a<=t;a++){var i=$('<button class="paginationButton paginationButtonNumber" data-page="'+a+'">'+a+"</button>");1===a?i.addClass("disabled").attr("data-type","first"):a===t?i.attr("data-type","last"):i.attr("data-type","number"),e.append(i)}e.append('<button class="paginationButton paginationButtonNext " data-type="next">&gt;</button>')});var s={all:$(".paginationButton"),previous:$('.paginationButton[data-type="prev"]'),first:$('.paginationButton[data-type="first"]'),last:$('.paginationButton[data-type="last"]'),next:$('.paginationButton[data-type="next"]')},r=$("#js-articleGrid .list").find(".page");$.each(s.all,function(){var e=$(this);"prev"===e.attr("data-type")?e.on("click",function(){if(!e.hasClass("disabled")){var t=$('#js-articleGrid .page[data-selected="true"]').prev(),n=t.prev().length,a=t.attr("data-pagenumber");c.removeSelectedPage(r),c.addSelectedPage(t),c.enableButtons(s.all),0===n?(c.disableButtons(s.previous),c.disableButtons(s.first)):c.disableButtons($('.paginationButton[data-page="'+a+'"]'))}}):"first"===e.attr("data-type")?e.on("click",function(){e.hasClass("disabled")||(c.removeSelectedPage(r),c.addSelectedPage(r.first()),c.enableButtons(s.all),c.disableButtons(s.previous),c.disableButtons(s.first))}):"last"===e.attr("data-type")?e.on("click",function(){e.hasClass("disabled")||(c.removeSelectedPage(r),c.addSelectedPage(r.last()),c.enableButtons(s.all),c.disableButtons(s.next),c.disableButtons(s.last))}):"next"===e.attr("data-type")?e.on("click",function(){if(!e.hasClass("disabled")){var t=$('#js-articleGrid .page[data-selected="true"]').next(),n=t.next().length,a=t.attr("data-pagenumber");c.removeSelectedPage(r),c.addSelectedPage(t),c.enableButtons(s.all),0===n?(c.disableButtons(s.next),c.disableButtons(s.last)):c.disableButtons($('.paginationButton[data-page="'+a+'"]'))}}):e.on("click",function(){if(!e.hasClass("disabled")){var t=$(this).attr("data-page"),n=$('#js-articleGrid .page[data-pagenumber="'+t+'"]');c.removeSelectedPage(r),c.addSelectedPage(n),c.enableButtons(s.all),c.disableButtons($('.paginationButton[data-page="'+t+'"]'))}})})}0!==e.length&&e.length<=9&&a.children().wrapAll($('<div class="page" />'))},setCurrentFeatured:function(){if(0!==d.featured.length){var e=$(d.featured[0]).clone();l.append(e)}},setRandomFeatured:function(){if(0!==d.featured.length){var e=c.getRandom(0,d.featured.length-1),t=$(d.featured[e]).clone();l.append(t)}},disableButtons:function(e){$.each(e,function(){$(this).addClass("disabled")})},enableButtons:function(e){$.each(e,function(){$(this).removeClass("disabled")})},removeSelectedPage:function(e){$.each(e,function(){$(this).attr("data-selected",!1)})},addSelectedPage:function(e){e.attr("data-selected",!0)},enableViewAllLink:function(){$("#js-articleGrid").on({click:function(e){e.preventDefault(),c.changeSelectedFilter("all"),c.resetContent(d.filteredAll)}},".js-viewAll")},getRandom:function(e,t){return Math.floor(Math.random()*(t-e+1))+e}};return{init:function(){0!==s.length&&(c.checkViewportMode(),c.setVariables(),c.createItemList(),c.clearInlineStyles(),c.toggleFilterVisibility(),c.resetContent(d.filteredAll),c.setCurrentFeatured(),c.checkSelectedFilter(),c.checkSelectedLabel(),c.enableViewAllLink())}}};function initSlickSlider(){var e=$(".slickSlider");0!==e.length&&$.each(e,function(){var e=$(this);e.find(".slide").length>2&&e.on("init",function(){var e=$(this);0===e.find(".videoSlide").length&&setTimeout(function(){e.removeClass("loading")},3e3)}).slick({centerMode:!0,slidesToShow:3,variableWidth:!0,draggable:!1})})}function initVideos(){initYouTube(),initVideoOverlays()}function initInfogram(){$(".infogram-embed").length&&($(window).width()<=breakpoints.mobile__landscape?($(".infogram-mobile").css("display","block"),$(".infogram-desktop").css("display","none")):($(".infogram-desktop").css("display","block"),$(".infogram-mobile").css("display","none")),$(window).resize(function(){$(window).width()<=breakpoints.mobile__landscape?($(".infogram-desktop").hide(),$(".infogram-mobile").show()):($(".infogram-desktop").show(),$(".infogram-mobile").hide())}))}function initYouTube(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api?apiKey="+ugGlobals.youtubeAPIKey;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t),$(".js-youtubeVid").each(function(e){$(this).attr("id","video_"+e)})}var youTubePlayerIDs=[],youTubePlayers=[];function onYouTubeIframeAPIReady(){var e=$(".youtubeVid");0!==e.length&&(initYouTubeVideos(".js-youtubeVid"),e.fitVids())}function initYouTubeVideos(e){$(e).each(function(){var e=$(this),t=e.data("youtubeid"),n=e.attr("width"),a=e.attr("height"),i=e.attr("id");if(-1===$.inArray(i,youTubePlayerIDs))try{var o=new YT.Player(i,{videoId:t,width:n,height:a,playerVars:{rel:0,enablejsapi:1},events:{onReady:onPlayerReady}});o.__divId=i,youTubePlayers.push(o),youTubePlayerIDs.push(i)}catch(n){e.html("<p class='error'>Unable to load YouTube video with ID "+t+"</p>")}})}function initVideoOverlays(){$(".gallery, .videoGallery, .mediaGallery").on("click",'[data-buttonfunction="playYoutube"]',function(e){e.preventDefault();var t=$(this),n=t.parent(),a=n.find(".caption");if(window.innerWidth>=1200&&a.addClass("hidden"),n.hasClass("slick-current")){var i=n.find(".fluid-width-video-wrapper");handleVideoOverlayClick(t),t.addClass("videoPlayed"),i.addClass("visible")}}),$(".mediaBlock, .slickSlider:not(.slick-initialized) .videoSlide").on("click",'[data-buttonfunction="playYoutube"]',function(e){e.preventDefault(),handleVideoOverlayClick($(this))})}function handleVideoOverlayClick(e){playYoutubePlayerByDivID(e.parent().find(".js-youtubeVid").first().attr("id")),e.addClass("videoPlayed")}function playYoutubePlayerByDivID(e){getYouTubePlayerByDivID(e).playVideo()}function getYouTubePlayerByDivID(e){var t=null;return youTubePlayers.forEach(function(n){return n.__divId===e&&(t=n,!0)}),t}function onPlayerReady(e){$(".slickSlider").removeClass("loading"),$(".slick-arrow").on("click",function(){$(".videoOverlay").removeClass("videoPlayed"),$(".fluid-width-video-wrapper").removeClass("visible"),$(".caption").removeClass("hidden"),$(youTubePlayers).each(function(){1===e.target.getPlayerState()&&e.target.pauseVideo()})})}function accordion(){var e=$(".dropDowns");e.each(function(){var e=$(this);!1===e.next().hasClass("dropDowns")&&e.addClass("lastDropDown")}),$(".dropDowns").on("click",".dropDownHeading",function(e){e.preventDefault();var t=$(this);if(!1===t.parents(".dropDowns").hasClass("loading")){var n=t.next();toggleAccordion(t,n)}}),openAccordions(e)}function openAccordions(e){e.each(function(){var e=$(this);!1===e.hasClass("courseDropDowns")&&!1===e.hasClass("loading")&&"show"===e.data("open")&&toggleAccordion(e.find(".dropDownHeading"),e.find(".dropDownSummary"))})}function toggleAccordion(e,t){e.hasClass("dropDownOpen")?(e.removeClass("dropDownOpen"),t.slideUp()):(e.addClass("dropDownOpen"),t.slideDown(),lazyloadAccordionImages(e.next()))}function lazyloadAccordionImages(e){e.find("img").each(function(){var e=$(this);void 0!==e.attr("src")&&"#"!==e.attr("src")||void 0===e.data("imgSrc")||e.attr("src",e.data("imgSrc"))})}function dualPanelBreakoutImage(){$(".dualPanel").each(function(){var e=$(this);e.find(".image-container").length>0&&e.addClass("breakout-container")})}function initCourseSearch(e){var t=e.find("form"),n=new Fuse(ugGlobals.courseData,ugGlobals.searchOptions);t.on("submit",function(e){e.preventDefault()}),$(".searchSubmit").on("click",function(e){e.preventDefault();var t=$(this),a=t.prev(),i=a.val();handleFormSearch(a,i,t.hasClass("close"),n)}),$("#js-searchBoxInput, .search.heroSearch").on("keyup",function(e){if(13===e.keyCode)return e.preventDefault(),!1;var t=$(this),a=t.val();handleFormSearch(t,a,!1,n)})}function handleFormSearch(e,t,n,a){var i=getResultsContainer(e),o=i.parent().find(".searchSubmit");!0===n?(clearSearchResults(i),e.val("")):!1===ugGlobals.searchResultsPopulated?(populateSearchResults(),t.length>=3&&filterSearchResults(getResultsContainer(e),t,a)):!0===ugGlobals.searchResultsPopulated&&t.length>=3?filterSearchResults(i,t,a):clearSearchResults(i),e.val().length>=1&&o.addClass("close")}function getResultsContainer(e){return e.hasClass("heroSearch")?e.parent().find(".results"):e.parents(".courseSearch").find(".results")}function populateSearchResults(){var e=ugGlobals.courseData,t=$(".courseSearch form"),n="",a=$(".search.heroSearch").parent(),i="";1===t.length&&(0===t.next(".results").length&&t.after('<div class="results hidden loading"><ul></ul></div>'),(n=t.next(".results").find("ul")).empty()),1===a.length&&(0===a.find(".results").length&&a.append('<div class="results resultsHeader hidden loading"><ul></ul></div>'),(i=a.find(".results ul")).empty()),e.forEach(function(e){var t='<li class="result hidden" data-course-id="'+e.id+'"><div class="details"><a class="resultLink" href="https://'+e.shorturl+'">'+e.title+" - "+e.qualification+" ("+e.id+")</a></div></li>";1===n.length&&n.append(t),1===i.length&&i.append(t)}),ugGlobals.searchResultsPopulated=!0}function filterSearchResults(e,t,n){var a=e.find(".result"),i=n.search(t),o=[],s=e.parent().find(".searchSubmit");i.forEach(function(e){"No Code"!==e.item&&o.push(e.item)}),e.addClass("loading"),a.addClass("hidden"),o.length>0?(a.each(function(){var e=$(this),t=e.data("courseId");-1!==o.indexOf(t)&&e.removeClass("hidden")}),e.removeClass("hidden loading"),s.addClass("close")):(e.addClass("hidden loading"),s.removeClass("close"))}function clearSearchResults(e){var t=e.parent().find(".searchSubmit");e.addClass("hidden loading"),t.removeClass("close")}function initDropdowns(){var e=window.location.hash,t=$(e),n=$('[data-buttonfunction="toggleDropdown"]',t),a=n.next();n.addClass("dropdownOpen"),a.slideDown(),$('[data-buttonfunction="toggleDropdown"]').click(function(e){e.preventDefault(),n=$(this),a=n.next(),n.hasClass("dropdownOpen")?(n.removeClass("dropdownOpen"),a.slideUp()):(n.addClass("dropdownOpen"),a.slideDown())})}function initRelatedPeople(){var e=$("#js-relatedPeopleContainer"),t=$("#js-relatedPeoplePagination");if(1===e.length){var n=e.find(".relatedPerson"),a=n.length,i=5,o=5,s=1,r=function(){n.each(function(e){var t=e+1,n=sacsGlobals.currentPage;1===n&&t>i?$(this).addClass("hidden"):n>1&&t<=(n-1)*i||t>n*i?$(this).addClass("hidden"):$(this).removeClass("hidden")})},l=function(){var e=5;return window.innerWidth<sacsGlobals.breakpoints.large&&(e=window.innerWidth<sacsGlobals.breakpoints.medium?2:4),e},d=function(e,t){return Math.ceil(e/t)},c=function(){t.html("");var e=1===sacsGlobals.currentPage?"disabled":"";t.append('<button class="paginationButton paginationButtonPrev '+e+'" data-page="prev"><</button>');for(var n=1;n<=s;n+=1)e=sacsGlobals.currentPage===n?"disabled":"",t.append('<button class="paginationButton paginationButtonNumber '+e+'" data-page="'+n+'">'+n+"</button>");e=sacsGlobals.currentPage===s?"disabled":"",t.append('<button class="paginationButton paginationButtonNext '+e+'" data-page="next">></button>')};i=l(),(s=d(a,i))>1&&(r(),c(),t.on("click",".paginationButton:not(.disabled)",function(e){var n;e.preventDefault(),n=$(this).data("page"),sacsGlobals.currentPage<s&&"next"===n?sacsGlobals.currentPage+=1:sacsGlobals.currentPage>1&&"prev"===n?sacsGlobals.currentPage-=1:"number"==typeof n&&(sacsGlobals.currentPage=n),t.find(".paginationButtonNumber").removeClass("disabled"),t.find('.paginationButtonNumber[data-page="'+sacsGlobals.currentPage+'"]').addClass("disabled"),sacsGlobals.currentPage===s?t.find(".paginationButtonNext").addClass("disabled"):t.find(".paginationButtonNext").removeClass("disabled"),1===sacsGlobals.currentPage?t.find(".paginationButtonPrev").addClass("disabled"):t.find(".paginationButtonPrev").removeClass("disabled"),r()})),e.removeClass("loading"),$(window).resize(function(){i=l(),o!==i&&(sacsGlobals.currentPage=1,(s=d(a,i))>1?c():t.html(""),r(),o=i)})}}function getImageDataUrl(e,t){var n=new XMLHttpRequest;n.onload=function(){var e=new FileReader;e.onloadend=function(){t(e.result)},e.readAsDataURL(n.response)},n.open("GET",e),n.responseType="blob",n.send()}var responsiveTables={tables:[],init:function(){responsiveTables.setup(),responsiveTables.applyScroll()},setup:function(){$(".textArea table").each(function(e){var t=$(this);t.wrap('<div id="responsiveTable'+e+'" class="responsiveTable"></div>'),responsiveTables.tables["responsiveTable"+e]={columns:responsiveTables.getColumns(t),headerColumn:responsiveTables.isHeaderColumn(t),headerRow:responsiveTables.isHeaderRow(t),rows:responsiveTables.getRows(t)}})},getRows:function(e){return e.find("tr").length},getColumns:function(e){return e.find("tr:last td").length},isHeaderRow:function(e){return!(!e.find("tr:first th").length||e.find("tr:first td").length)},isHeaderColumn:function(e){var t=!0;return e.find("tr").each(function(){$(this).children("th").length||(t=!1)}),!0===t},applyScroll:function(){Object.keys(responsiveTables.tables).forEach(function(e){(responsiveTables.tables[e].columns>1||responsiveTables.tables[e].headerColumn)&&$("#"+e).addClass("scroll").attr({"aria-label":"Table",role:"region",tabindex:"0"})})}},dataWidgets=function(){var e={},t={getFilterValue:function(e){var t=$('meta[name="'+e+'"]');if(0!==t.length)return t.attr("content")},fetchSingle:function(e,n,a,i){$.getJSON(e).done(function(e){if(e.options.forEach(function(e){n.push(e)}),null!==a)return t.buildOptionList(n,a)}).fail(function(e){$(i).empty().append("<p>There was an error accessing the data API: "+e.statusText+"</p>")})},fetchFiltered:function(e,n,a,i){return t.fetchFilterCode(e.temp,e.filtered,n,a,i)},fetchFilterCode:function(e,n,a,i,o){var s=[];$.getJSON(e.api).done(function(r){if(r.options.forEach(function(t){e.array.push(t)}),0!==(s=e.array.filter(function(e){if(e.name===a)return e})).length)return t.fetchFilteredData(n,s[0].filter,i,o)}).fail(function(e){$(o).empty().append("<p>There was an error accessing the data API: "+e.statusText+"</p>")})},fetchFilteredData:function(e,n,a,i){var o=[];$.getJSON(e.api).done(function(i){return i.options.forEach(function(e){o.push(e)}),o.forEach(function(t){t.filter===n&&e.array.push(t)}),t.buildOptionList(e.array,a)}).fail(function(e){$(i).empty().append("<p>There was an error accessing the data API: "+e.statusText+"</p>")})},buildOptionList:function(e,n){var a=n.find("select");return e.forEach(function(e){$('<option value="'+e.name+'">'+e.name+"</option>").appendTo(a)}),t.initSelect(e,n)},initSelect:function(e,n){var a=n.find("select:not(.ignore)"),i=n.find(".infoWrapper");a.niceSelect(),a.on("change",function(){var t=$(this).find(":selected").attr("value");if(void 0!==t){var n=e.filter(function(e){if(e.name===t)return e});return i.empty().append(n[0].value).css("display","block")}return i.empty().attr("style","")}),a.each(function(){t.initKeyboardNavigation(n)})},initKeyboardNavigation:function(e){var t=e,a=t.find(".nice-select"),i=t.find(".list"),o=n.checkScrollBars(i.get(0)),s=i.outerHeight(),r=i.get(0).scrollHeight;a.on({blur:function(){n.removeFocusState(i),n.setSelectedPosition(i),n.setSelectedState(i)},keydown:function(e){var t,l=$(this);if(9===e.which){var d,c=$('a:not([disabled]), button:not([disabled]), input[type=text]:not([disabled]), [tabindex]:not([disabled]):not([tabindex="-1"])');$.each(c,function(e){c[e]===a.get(0)&&(d=c[e])}),n.removeFocusState(i),n.setSelectedPosition(i),a.removeClass("open"),d.focus()}else 27===e.which?(n.removeFocusState(i),n.setSelectedPosition(i),n.setSelectedState(i)):38===e.which?o.vert&&(t=l.find(".focus").prev(),n.keyUpScroll(t,i,s,r)):40===e.which&&o.vert&&(t=l.find(".focus").next(),n.keyDownScroll(t,i,s))}})}},n={checkScrollBars:function(e){return{hori:e.scrollWidth>e.clientWidth,vert:e.scrollHeight>e.clientHeight}},keyDownScroll:function(e,t,n){if(0!==e.length){var a=-e.get(0).offsetTop,i=-n+(e.outerHeight()+parseInt(e.css("margin-top"))+parseInt(e.css("margin-bottom"))),o=-(t.get(0).scrollTop-i);t.attr("data-scrolltop",a),a<o&&t.animate({scrollTop:Math.abs(a-i)},50)}else t.attr("data-scrolltop",0)},keyUpScroll:function(e,t,n,a){if(0!==e.length){var i=-e.get(0).offsetTop,o=-t.get(0).scrollTop;t.attr("data-scrolltop",i),i>-a&&i>o&&t.animate({scrollTop:Math.abs(i)},50)}else t.attr("data-scrolltop",0)},setSelectedState:function(e){return e.find(".selected").focus()},setSelectedPosition:function(e){var t=e.find(".selected");return $offset=t.get(0).offsetTop,e.scrollTop($offset)},removeFocusState:function(e){return e.find(".focus").removeClass("focus")}};return{init:function(){var n=$(".dataWidget");0!==n.length&&(n.each(function(n){var a=$(this),i=a.attr("data-type"),o=a.find(".selectWrapper");if("single"===i){var s=a.attr("data-api");e["single"+n]=[],s?t.fetchSingle(s,e["single"+n],a,o):o.empty().append("<p>The data attributes for this widget are incorrect and the data could not be accessed.</p>")}if("filtered"===i){var r=a.attr("data-filtername"),l=a.attr("data-filterapi"),d=a.attr("data-mainapi"),c=t.getFilterValue(r);e["temp"+n]=[],e["filtered"+n]=[],c&&l&&d?t.fetchFiltered({temp:{api:l,array:e["temp"+n]},filtered:{api:d,array:e["filtered"+n]}},c,a,o):o.empty().append("<p>The data attributes for this widget are incorrect and the data could not be accessed.</p>")}}),FastClick.attach(document.body))}}},eventsFeed=function(){var e,t,n,a,i,o,s=$("#js-eventsFeed"),r=windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile",l=windowValues.width>=breakpoints.desktop__medium?"max":"min",d=1,c=s.data("rowsPerPage")||0,u=0===c,h={max:5,min:3},f=h[l]*c,p=s.data("showMore"),v=!1,m=!1,g={category:{},months:{}},b={checkViewportMode:function(){requestResizeAnimation(function(){r=windowValues.width>=breakpoints.desktop__minimum?"desktop":"mobile"})},setVariables:function(){t=s.find(".filters"),n=s.find(".filter-by"),e=s.find("#js-loadMoreEvents"),a=s.find(".eventsContainer"),i=a.find(".event")},createItemList:function(){t.find("li").each(function(){var e=$(this).find("label").text();void 0===g.category[e]&&(g.category[e.toLowerCase()]=[])}),t.find(".filter-months label").each(function(){var e=$(this).data("month");void 0!==e&&void 0===g.months[e]&&(g.months[e]=[])}),b.mapItemList(i)},mapItemList:function(){i.each(function(){var e=$(this),t=e.data("category"),n=e.data("date");if(g.category.all.push(this),void 0!==t&&void 0!==g.category[t.toLowerCase()]&&g.category[t.toLowerCase()].push(this),void 0!==n){var a=new Date(n);if(!isNaN(a)){var i=a.getMonth()+1;void 0!==g.months[i]&&g.months[i].push(this)}}})},resetContent:function(t){d=1,a.empty(),e.addClass("hidden"),o=t,b.addContent(t)},addContent:function(e){var t=e.length;if(0!==t)e.forEach(function(e){a.append($(e))}),b.buildPagination(e);else{var n="There are currently no events.";!0===v&&!1===m?n="There are currently no events for this month. Please select another month from the filters provided.":!1===v&&!0===m?n="There are currently no events for this category. Please select another category from the filters provided.":!0===v&&!0===m&&(n="There are currently no events for the selected category and month. Please try selecting another month or category from the filters provided."),a.append($('<div class="event">'+n+"</div>"))}t<h[l]?a.addClass("isCentered"):a.removeClass("isCentered")},buildPagination:function(t){!u&&0!==t.length&&t.length>f?($(t).each(function(e){e>=f?$(this).addClass("hidden"):$(this).removeClass("hidden")}),p&&e.removeClass("hidden")):($(t).removeClass("hidden"),e.addClass("hidden"))},initLoadMore:function(){e.on("click",function(e){e.preventDefault(),b.loadMoreItems()})},loadMoreItems:function(){$(o).each(function(e){e<f+h[l]*d&&$(this).removeClass("hidden")}),o.length<=f+h[l]*d&&e.addClass("hidden"),d+=1},initFilters:function(){b.buildMonthDropdown(),t.on("change","input",function(){var e=$(this).parent().find("label"),t=[],n=e.text().toLowerCase();if(e.hasClass("filter-months-labels")){n=e.data("month");var a=b.getSelectedFilter();void 0===n?(v=!1,b.resetContent(g.category[a])):"all"===a?(v=!0,b.resetContent(g.months[n])):(v=!0,t=b.getCategoryItemsByMonth(n,a),b.resetContent(t)),v?b.updateMonthDropdownText("Month: "+e.text()):b.updateMonthDropdownText("Month")}else if(void 0!==n){var i=b.getSelectedMonth();m="all"!==n,"all"===i?b.resetContent(g.category[n]):(t=b.getCategoryItemsByMonth(i,n),b.resetContent(t))}}),t.on("click","input",function(e){"click"===e.type&&0!==e.clientX&&0!==e.clientY&&b.toggleFilterDropdown($(this).parents(".filter-items").parent().find(".filter-button"))})},buildMonthDropdown:function(){for(var e=(new Date).getMonth(),t=$('<div class="filter-item filter-months-item"> <input type="radio" name="articleFilters" /> <label class="filter-months-labels filter-labels"></label></div>'),n=["January","February","March","April","May","June","July","August","September","October","November","December"],a=1;a<=12;a++){var i=n[e],o=t.clone();o.find("input").attr({id:"filters-months-"+i.toLowerCase(),value:i.toLowerCase()}),o.find("label").attr({for:"filters-months-"+i.toLowerCase(),"data-month":e+1}).text(i),$(".filter-months-dropdown form").append(o),(e+=1)>11&&(e=0)}},updateMonthDropdownText:function(e){$(".filter-months-button").text(e)},getSelectedMonth:function(){var e=t.find(".filter-months input:checked").parent().find("label");return e.data("month")||e.text().toLowerCase()},getSelectedFilter:function(){return t.find("li input:checked").parent().find("label").text().toLowerCase()},getCategoryItemsByMonth:function(e,t){return g.months[e].filter(function(e){return-1!==g.category[t].indexOf(e)})},initFilterDropdowns:function(){s.on("click",".filter-button",function(e){e.preventDefault();var t=$(this);b.toggleFilterDropdown(t)})},toggleFilterDropdown:function(e){!1===e.hasClass("open")?(e.next(".filter-items").addClass("open"),e.addClass("open")):(e.next(".filter-items").removeClass("open"),e.removeClass("open"))},toggleFilterVisibility:function(){n.on({click:function(){"mobile"===r&&t.toggleClass("open")}}),$(document).click(function(e){"mobile"!==r||$(e.target).closest(".filters").length||$(".filters").removeClass("open")})}};return{init:function(){0!==s.length&&(b.checkViewportMode(),b.setVariables(),b.initFilters(),b.initFilterDropdowns(),b.toggleFilterVisibility(),b.createItemList(),b.resetContent(g.category.all),b.initLoadMore())}}},initTabs=function(){var e={setClickHandlers:function(){$(document).on("click",".tabLinks",function(t){t.preventDefault();var n=$(this)[0].href.split("/").pop();e.openTab(n)})},openTab:function(e){var t=$(".tabLinks[href="+e+"]").closest(".tabs"),n=$(t).children(".tabButtons").children(".tabLinks"),a=$(t).children(".tabContent");$(n).each(function(){$(this).attr("href")!=e?$(this).removeClass("active"):$(this).addClass("active")}),$(a).each(function(){$(this).attr("tab-title")!=e?$(this).hide():$(this).fadeIn("200ms")})}};return{init:function(t){0!==t.length&&0!==t.length&&e.setClickHandlers(t)}}};function addNavClass(){document.body.contains(document.getElementById("globalAlertBanner"))&&document.getElementById("js-navigation").classList.add("globalAlert")}function scrollToLinks(){$(".smooth-scroll").length>0&&$(".smooth-scroll").click(function(e){e.preventDefault();var t=e.target.href.split("/"),n=t[t.length-1].replace("#",""),a=$('a[name="'+n+'"]');$("html, body").animate({scrollTop:$(a).offset().top},600)})}0===$(".menu-toplevel").length&&$(".navigation").find(".primary .row").addClass("no-items");var selectors="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",modal=document.querySelector(".modal"),openModalBtn=document.querySelector(".openModal"),closeButtonBtn=document.querySelector(".close-button"),video=document.querySelector(".modalVid"),sections=document.querySelectorAll(".row");function openModal(){modal.classList.add("show-modal"),modal.style.display="flex",modal.querySelector(selectors).focus(),sections.forEach(function(e,t){e.querySelectorAll(selectors).forEach(function(e){e.setAttribute("tabindex","-1")}),modal.removeAttribute("aria-hidden"),e.setAttribute("aria-hidden","true")})}function closeModal(){video.pause(),modal.style.display="none",sections.forEach(function(e,t){e.querySelectorAll(selectors).forEach(function(e){e.removeAttribute("tabindex")}),modal.setAttribute("aria-hidden","true"),e.removeAttribute("aria-hidden")}),openModalBtn.focus()}function windowOnClick(e){e.target===modal&&closeModal()}$(".modalWindow").length>0&&(openModalBtn.addEventListener("click",openModal),closeButtonBtn.addEventListener("click",closeModal),window.addEventListener("click",windowOnClick),$(".videoWrapper").click(function(){$(".modalVid").get(0).paused?($(".playpause").fadeOut(),$(".modalVid").get(0).play()):($(".modalVid").get(0).pause(),$(".playpause").fadeIn())})),function(){for(var e=document.querySelectorAll(".youtube-container"),t=function(t){var n="https://img.youtube.com/vi/"+e[t].dataset.embed+"/sddefault.jpg",a=new Image;a.src=n,a.addEventListener("load",void e[t].appendChild(a)),e[t].addEventListener("click",function(){var e=document.createElement("iframe");e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen",""),e.setAttribute("allow","autoplay"),e.setAttribute("src","https://www.youtube.com/embed/"+this.dataset.embed+"?autoplay=1"),this.innerHTML="",this.appendChild(e)})},n=0;n<e.length;n++)t(n)}();